# Labels

## Task 1 - Create Pods with Labels

Create a collection of pods with labels assinged to each

[CreatePodsWithLabels.yaml](https://github.com/YeffaDev/learn-kubernetes-brownbag/blob/master/lab/yaml/06-CreatePodsWithLabels.yaml)

```
vi CreatePodsWithLabels.yaml
kubectl apply -f CreatePodsWithLabels.yaml
kubectl get pods --show-labels            #all label output
kubectl get pods -L tier                  #particular label output
kubectl describe pod nginx-pod-3 | head
```

## Task 2 - Query labels and selector 

```
kubectl get pods --selector tier=prod     #equally based selector
#-l is a shorthand for --selector
kubectl get pods -l 'tier in (prod,qa)'   #set based selector
```

## Task 3 - Edit label

```
kubectl label pod nginx-pod-3 tier=non-prod --overwrite   #overwrite existing
kubectl label pod nginx-pod-3 site=Milano                 #add new label
kubectl get pod nginx-pod-3 --show-labels
kubectl label pod nginx-pod-3 site-
```

## Task 4 - Perform label based operation

```
kubectl label pod --all tier=non-prod --overwrite   # overwrite all pod label
kubectl delete pod -l tier=non-prod                 # we should left with nothing
```

### Create a pod in namespace imperatively

```yaml
kubectl run hello-world-pod \
    --image=gcr.io/google-samples/hello-app:1.0 \
    --namespace playground1
```

## Task 4 - Get pod into namespace

```
kubectl get pods
kubectl get pods --namespace playground1  # You could use -n flag
kubectl get all --namespace=playground1
```

## Task 5 - Delete pod into namespace

```
kubectl delete pods --all --namespace playground1 # delete all the pod, but the deployment will be recreated
kubectl get pods -n playground1
```

## Task 6 - Cleanup

```
kubectl delete namespaces playground1       # delete namespace and ALL resources in the namespace
kubectl delete namespaces playgroundinyaml  # delete namespace and ALL resources in the namespace
kubectl get all
kubectl get all --all-namespaces
```
