## Kind

- [Kind using WSL2](https://kind.sigs.k8s.io/docs/user/using-wsl2/)
- [Setting up Docker without Docker Desktop](https://dev.to/bowmanjd/install-docker-on-windows-wsl-without-docker-desktop-34m9)

## Kind Setup

Kind Setup (wsl)

```
sudo apt update && sudo apt upgrade                                                       #You may need to disable your VPN if ou face Internet Access
sudo apt remove docker docker-engine docker.io containerd runc                            #remove old installation files
sudo apt install --no-install-recommends apt-transport-https ca-certificates curl gnupg2  #Install prerequisites
. /etc/os-release                                                                         #On Debian or Ubuntu, first temporarily set some OS-specific variables
curl -fsSL https://download.docker.com/linux/${ID}/gpg | sudo tee /etc/apt/trusted.gpg.d/docker.asc  #Trust the repo
echo "deb [arch=amd64] https://download.docker.com/linux/${ID} ${VERSION_CODENAME} stable" | sudo tee /etc/apt/sources.list.d/docker.list #add the repo information  
sudo apt update                                                                           #update the repo information  
sudo apt install docker-ce docker-ce-cli containerd.io                                    #Install Docker Engine
sudo usermod -aG docker $USER                                                             #add your user to the Docker group
sudo dockerd                                                                              #launch dockerd
```
Open another wsl terminal and try docker

```Shell
docker run --rm hello-world
```
## Kind Script

Edit text file : vi docker-service

```Shell
DOCKER_DISTRO="Debian"
DOCKER_DIR=/mnt/wsl/shared-docker
DOCKER_SOCK="$DOCKER_DIR/docker.sock"
export DOCKER_HOST="unix://$DOCKER_SOCK"
if [ ! -S "$DOCKER_SOCK" ]; then
    mkdir -pm o=,ug=rwx "$DOCKER_DIR"
    chgrp docker "$DOCKER_DIR"
    /mnt/c/Windows/System32/wsl.exe -d $DOCKER_DISTRO sh -c "nohup sudo -b dockerd < /dev/null > $DOCKER_DIR/dockerd.log 2>&1"
fi
```

Execute  "docker-service"

```Shell
DOCKER_DISTRO="Ubuntu-20.04"
DOCKER_LOG_DIR=$HOME/docker_logs
mkdir -pm o=,ug=rwx "$DOCKER_LOG_DIR"
/mnt/c/Windows/System32/wsl.exe -d $DOCKER_DISTRO sh -c "nohup sudo -b dockerd < /dev/null > $DOCKER_LOG_DIR/dockerd.log 2>&1"
```

